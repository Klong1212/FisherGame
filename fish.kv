#:kivy 1.1
<BagScreen>:
    BoxLayout:
        orientation: 'horizontal'
        Button:
            size_hint: 0.1, 1
            text: 'back'
            on_release: app.root.current ="main_screen"
        GridLayout:
            cols: 5  
            rows: 6  
            Button:
                id: pic1
                on_parent: root.update_button_image( 'pic1', 'fishpic/Sprite-0004.jpg')
            Button:
                id: pic2
                on_parent: root.update_button_image( 'pic2', 'fishpic/Sprite-0005.jpg')
            Button:
                id: pic3
                on_parent: root.update_button_image( 'pic3', 'fishpic/Sprite-0006.jpg')
            Button:
                id: pic4
                on_parent: root.update_button_image( 'pic4', 'fishpic/Sprite-0007.jpg')
            Button:
                id: pic5
                on_parent: root.update_button_image( 'pic5', 'fishpic/Sprite-0008.jpg')
            Button:
                id: pic6
                on_parent: root.update_button_image( 'pic6', 'fishpic/Sprite-0009.jpg')
            Button:
                id: pic7
                on_parent: root.update_button_image( 'pic7', 'fishpic/Sprite-0010.jpg')
            Button:
                id: pic8
                on_parent: root.update_button_image( 'pic8', 'fishpic/Sprite-0011.jpg')
            Button:
                id: pic9
                on_parent: root.update_button_image( 'pic9', 'fishpic/Sprite-0012.jpg')
            Button:
                id: pic10
                on_parent: root.update_button_image( 'pic10', 'fishpic/Sprite-0013.jpg')
            Button:
                id: pic11
                on_parent: root.update_button_image( 'pic11', 'fishpic/Sprite-0014.jpg')
            Button:
                id: pic12
                on_parent: root.update_button_image( 'pic12', 'fishpic/Sprite-0015.jpg')
            Button:
                id: pic13
                on_parent: root.update_button_image( 'pic13', 'fishpic/Sprite-0016.jpg')
            Button:
                id: pic14
                on_parent: root.update_button_image( 'pic14', 'fishpic/Sprite-0017.jpg')
            Button:
                id: pic15
                on_parent: root.update_button_image( 'pic15', 'fishpic/Sprite-0018.jpg')
            Button:
                id: pic16
                on_parent: root.update_button_image( 'pic16', 'fishpic/Sprite-0019.jpg')
            Button:
                id: pic17
                on_parent: root.update_button_image( 'pic17', 'fishpic/Sprite-0020.jpg')
            Button:
                id: pic18
                on_parent: root.update_button_image( 'pic18', 'fishpic/Sprite-0021.jpg')
            Button:
                id: pic19
                on_parent: root.update_button_image( 'pic19', 'fishpic/Sprite-0022.jpg')
            Button:
                id: pic20
                on_parent: root.update_button_image( 'pic20', 'fishpic/Sprite-0023.jpg')
            Button:
                id: pic21
                on_parent: root.update_button_image( 'pic21', 'fishpic/Sprite-0024.jpg')
            Button:
                id: pic22
                on_parent: root.update_button_image( 'pic22', 'fishpic/Sprite-0025.jpg')
            Button:
                id: pic23
                on_parent: root.update_button_image( 'pic23', 'fishpic/Sprite-0026.jpg')
            Button:
                id: pic24
                on_parent: root.update_button_image( 'pic24', 'fishpic/Sprite-0027.jpg')
            Button:
                id: pic25
                on_parent: root.update_button_image( 'pic25', 'fishpic/Sprite-0028.jpg')
            Button:
                id: pic26
                on_parent: root.update_button_image( 'pic26', 'fishpic/Sprite-0029.jpg')
            Button:
                id: pic27
                on_parent: root.update_button_image( 'pic27', 'fishpic/Sprite-0030.jpg')
            Button:
                id: pic28
                on_parent: root.update_button_image( 'pic28', 'fishpic/Sprite-0031.jpg')
            Button:
                id: pic29
                on_parent: root.update_button_image( 'pic29', 'fishpic/Sprite-0032.jpg')
            Button:
                id: pic30
                on_parent: root.update_button_image( 'pic30', 'fishpic/Sprite-0033.jpg')


        
<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            Image:
                source: root.link
            Widget:
                size_hint: 0.1, 1
                id: rect_widget_points
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1 
                    Rectangle:
                        size: rect_widget_points.size
                        pos: rect_widget_points.pos
                canvas:
                    Color:
                        rgba: 1, 1, 1, 1 
                    Rectangle:
                        size: rect_widget_points.width, root.score
                        pos: rect_widget_points.pos

            Widget:
                size_hint: 0.1, 1
                id: rect_widget_minigame
                canvas.before:
                    Color:
                        rgba: 0, 1, 0, 1 
                    Rectangle:
                        size: rect_widget_minigame.width, 50
                        pos: rect_widget_minigame.x , rect_widget_minigame.y+root.hi_game
                canvas:
                    Color:
                        rgba: 1, 0, 0, 1 
                    Rectangle:
                        size: rect_widget_minigame.width, 10
                        pos: rect_widget_minigame.x , rect_widget_minigame.y+root.hi
        BoxLayout:
            size_hint: 1,0.5
            orientation: 'horizontal'
            Button:
                text: 'start'
                size_hint: 
                on_press: root.on_click()
            Button:
                text: 'Fight'
                on_press: root.on_button_down()
                on_release: root.on_button_up()
            Button:
                text: 'Bag'
                size_hint: 0.2, 1
                on_release: app.root.current ="bag_screen"
ScreenManager:
    id: sm
    MainScreen:
        name: "main_screen"
    BagScreen:
        name: "bag_screen"
    