#:kivy 1.1
<BagScreen>:
    BoxLayout:
        orientation: 'horizontal'
        Button:
            size_hint: 0.1, 1
            text: 'back'
            on_release: app.root.current ="main_screen"
        BoxLayout:
            orientation: 'vertical'
            GridLayout:
                cols: 5  
                rows: 6  
                Button:
                    id: pic1
                    background_normal: root.fish_image_1
                    on_release: root.text_inputs("pic1")
                Button:
                    id: pic2
                    background_normal: root.fish_image_2
                    on_release: root.text_inputs("pic2")
                Button:
                    id: pic3
                    background_normal: root.fish_image_3
                    on_release: root.text_inputs("pic3")
                Button:
                    id: pic4
                    background_normal: root.fish_image_4
                    on_release: root.text_inputs("pic4")
                Button:
                    id: pic5
                    background_normal: root.fish_image_5
                    on_release: root.text_inputs("pic5")
                Button:
                    id: pic6
                    background_normal: root.fish_image_6
                    on_release: root.text_inputs("pic6")
                Button:
                    id: pic7
                    background_normal: root.fish_image_7
                    on_release: root.text_inputs("pic7")
                Button:
                    id: pic8
                    background_normal: root.fish_image_8
                    on_release: root.text_inputs("pic8")
                Button:
                    id: pic9
                    background_normal: root.fish_image_9
                    on_release: root.text_inputs("pic9")
                Button:
                    id: pic10
                    background_normal: root.fish_image_10
                    on_release: root.text_inputs("pic10")
                Button:
                    id: pic11
                    background_normal: root.fish_image_11
                    on_release: root.text_inputs("pic11")
                Button:
                    id: pic12
                    background_normal: root.fish_image_12
                    on_release: root.text_inputs("pic12")
                Button:
                    id: pic13
                    background_normal: root.fish_image_13
                    on_release: root.text_inputs("pic13")
                Button:
                    id: pic14
                    background_normal: root.fish_image_14
                    on_release: root.text_inputs("pic14")
                Button:
                    id: pic15
                    background_normal: root.fish_image_15
                    on_release: root.text_inputs("pic15")
                Button:
                    id: pic16
                    background_normal: root.fish_image_16
                    on_release: root.text_inputs("pic16")
                Button:
                    id: pic17
                    background_normal: root.fish_image_17
                    on_release: root.text_inputs("pic17")
                Button:
                    id: pic18
                    background_normal: root.fish_image_18
                    on_release: root.text_inputs("pic18")
                Button:
                    id: pic19
                    background_normal: root.fish_image_19
                    on_release: root.text_inputs("pic19")
                Button:
                    id: pic20
                    background_normal: root.fish_image_20
                    on_release: root.text_inputs("pic20")
                Button:
                    id: pic21
                    background_normal: root.fish_image_21
                    on_release: root.text_inputs("pic21")
                Button:
                    id: pic22
                    background_normal: root.fish_image_22
                    on_release: root.text_inputs("pic22")
                Button:
                    id: pic23
                    background_normal: root.fish_image_23
                    on_release: root.text_inputs("pic23")
                Button:
                    id: pic24
                    background_normal: root.fish_image_24
                    on_release: root.text_inputs("pic24")
                Button:
                    id: pic25
                    background_normal: root.fish_image_25
                    on_release: root.text_inputs("pic25")
                Button:
                    id: pic26
                    background_normal: root.fish_image_26
                    on_release: root.text_inputs("pic26")
                Button:
                    id: pic27
                    background_normal: root.fish_image_27
                    on_release: root.text_inputs("pic27")
                Button:
                    id: pic28
                    background_normal: root.fish_image_28
                    on_release: root.text_inputs("pic28")
                Button:
                    id: pic29
                    background_normal: root.fish_image_29
                    on_release: root.text_inputs("pic29")
                Button:
                    id: pic30
                    background_normal: root.fish_image_30
                    on_release: root.text_inputs("pic30")
            Label:
                id:Text_add
                size_hint: 1,0.1
                text: root.text_input

        
<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            Image:
                source: root.link
            Widget:
                size_hint: 0.1, 1
                id: rect_widget_points
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1 
                    Rectangle:
                        size: rect_widget_points.size
                        pos: rect_widget_points.pos
                canvas:
                    Color:
                        rgba: 1, 1, 1, 1 
                    Rectangle:
                        size: rect_widget_points.width, root.score
                        pos: rect_widget_points.pos

            Widget:
                size_hint: 0.1, 1
                id: rect_widget_minigame
                canvas.before:
                    Color:
                        rgba: 0, 1, 0, 1 
                    Rectangle:
                        size: rect_widget_minigame.width, 50
                        pos: rect_widget_minigame.x , rect_widget_minigame.y+root.hi_game
                canvas:
                    Color:
                        rgba: 1, 0, 0, 1 
                    Rectangle:
                        size: rect_widget_minigame.width, 10
                        pos: rect_widget_minigame.x , rect_widget_minigame.y+root.hi
        BoxLayout:
            size_hint: 1,0.5
            orientation: 'horizontal'
            Button:
                text: 'start'
                size_hint: 
                on_press: root.on_click()
            Button:
                text: 'Fight'
                on_press: root.on_button_down()
                on_release: root.on_button_up()
            Button:
                text: 'Bag'
                size_hint: 0.2, 1
                on_release: app.root.current ="bag_screen"
ScreenManager:
    id: sm
    MainScreen:
        name: "main_screen"
    BagScreen:
        name: "bag_screen"
    